syntax = "proto3";

package exf.marketdata.v1;

option go_package = "exf/marketdata/v1;marketdatav1";

service MarketData {
  rpc GetBBO (GetInstrumentRequest) returns (Quote);
  rpc GetOrderBook (GetOrderBookRequest) returns (OrderBook);
}

message GetInstrumentRequest { string instrument_id = 1; }

message GetOrderBookRequest {
  string instrument_id = 1;
  int32 depth = 2; // default 10
}

message Quote {
  string instrument_id = 1;
  string bid_price = 2;
  string bid_qty = 3;
  string ask_price = 4;
  string ask_qty = 5;
  string ts = 6; // RFC3339
}

message BookLevel { string price = 1; string qty = 2; }

message OrderBook {
  string instrument_id = 1;
  repeated BookLevel bids = 2;
  repeated BookLevel asks = 3;
  string ts = 4; // RFC3339
}


